<footer class="site-footer">

	<div class="footer-content">

		<div class="text-center mb-4">

			<img src="/img/brand/logo-wordmark.svg" alt="The EcoHome Blog" class="footer-logo" style="display: block; margin: 0 auto;">
			<p class="text-muted text-sm mt-3">{{ .Site.Data.footer.title }}</p>
			<p class="text-muted text-sm">{{ .Site.Data.footer.blurb }}</p>

			{{ partial "newsletter-form" . }}

		</div>

		<div class="footer-nav">

			<div class="footer-nav-section">
				<h3>The EcoHome Blog</h3>
				<ul>
					<li><a href="/">Home</a></li>
					<li><a href="/products">Our products</a></li>
					<li><a href="/values">About</a></li>
					<li><a href="/post">Blog</a></li>
					<li><a href="/contact">Contact</a></li>
				</ul>
			</div>

			<div class="footer-nav-section">
				<h3>Find out more</h3>
				<ul>
					<li><a href="/post/jamaica-blue/">Latest offers</a></li>
					<li><a href="/contact">Schedule an appointment</a></li>
				</ul>
			</div>

			<div class="footer-nav-section">
				<h3>Social media</h3>
				<ul>
					{{ partial "social-icon" (dict "link" "#" "svg" "icons-facebook" "alt" "The EcoHome Blog on Facebook") }}
					{{ partial "social-icon" (dict "link" "#" "svg" "icons-twitter" "alt" "The EcoHome Blog on Twitter") }}
					{{ partial "social-icon" (dict "link" "#" "svg" "icons-instagram" "alt" "The EcoHome Blog on Instagram") }}
					{{ partial "social-icon" (dict "link" "#" "svg" "icons-vimeo" "alt" "The EcoHome Blog on Vimeo") }}
				</ul>
			</div>

		</div>
	</div>

</footer>

<script>
// Affiliate click tracking: pushes to dataLayer for GTM and falls back to gtag if present.
// Listens for clicks on <a> that include rel="sponsored" (per our link convention).
document.addEventListener('click', function(e){
  var a = e.target.closest && e.target.closest('a[rel~="sponsored"]');
  if(!a) return;
  try{
    var affiliateId = a.getAttribute('data-affiliate') || '';
    var href = a.href || '';
    // dataLayer push for GTM
    window.dataLayer = window.dataLayer || [];
    window.dataLayer.push({
      event: 'affiliate_click',
      affiliate_id: affiliateId,
      href: href,
      page_path: window.location.pathname
    });
    // Optional GA4 fallback if gtag is available
    if(window.gtag){
      gtag('event', 'affiliate_click', {
        event_category: 'affiliate',
        event_label: affiliateId || href,
        value: 1
      });
    }
  }catch(err){
    // fail silently
    console.warn('Affiliate tracking error', err);
  }
}, false);
</script>
